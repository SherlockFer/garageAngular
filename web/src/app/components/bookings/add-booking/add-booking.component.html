<div class="container  py-4"> 
  <div class="row">
    <div class="col-md-8" >
      <div class="card border border-secondary border-top-success">
          <div class="card-header font-weight-bold bg-white">
              <i class="fa fa-car"></i>Book a Service
          </div>
          <div class="card-body">  
            <form [formGroup]="form" (ngSubmit)="onSubmit()">

              <div class="form-group">
                <label for="date" class="text-muted form-label-sm">Choose a day (*)</label>
                <input type="date" 
                  min="{{datetoday | date:'yyyy-MM-dd'}}"
                  formControlName="date" 
                  class="form-control form-control-lg" 
                  id="date">
                <label class="text-danger"
                  *ngIf="form.get('date').touched && form.get('date').invalid" >
                  Enter a valid date!
                </label>            
              </div>

              <div class="form-group">
                  <label for="service_id" class="text-muted form-label-sm">Select a service (*)</label>
                  <select class="browser-default custom-select" 
                    placeholder="Choose one" 
                    id="service_id" 
                    formControlName="service_id"
                    class="form-control form-control-lg" >
                    <option [value]="service.id"  *ngFor="let service of base_services">
                      {{service.name}}
                    </option>
                  </select>
                  <label class="text-danger"
                    *ngIf="form.get('service_id').touched && form.get('service_id').invalid" >
                    Enter a valid service!
                  </label>  
              </div>

              <div class="form-group">
                <label for="vehicle_type" class="text-muted form-label-sm">Vehicle type (*)</label>
                <select id="vehicle_type" formControlName="vehicle_type" class="browser-default custom-select form-control form-control-lg" >
                    <option [ngValue]="type.key" *ngFor="let type of vehicle_types | keyvalue">
                        {{type.value}}
                    </option>
                </select>
                <label class="text-danger"
                    *ngIf="form.get('vehicle_type').touched && form.get('vehicle_type').invalid">
                    Enter a valid vehicle type!
                </label>
            </div>
          
              <div class="form-group">
                <label for="vehicle_number_plate"  class="text-muted form-label-sm">Vehicle number plate (*)</label>
                <input 
                  formControlName="vehicle_number_plate" 
                  class="form-control form-control-lg"  
                  id="vehicle_number_plate">          
                  <label class="text-danger"
                  *ngIf="form.get('vehicle_number_plate').touched && form.get('vehicle_number_plate').invalid" >
                  Enter a valid number plate!
                </label>  
              </div>

              <div class="form-group">
                <label for="vehicle_model" class="text-muted form-label-sm">Vehicle model</label>
                <input 
                  formControlName="vehicle_model" 
                  class="form-control form-control-lg" 
                  id="vehicle_model">         
              </div>

              <div class="form-group">
                <label for="vehicle_brand"  class="text-muted form-label-sm">Vehicle brand</label>
                <input 
                  formControlName="vehicle_brand" 
                  class="form-control form-control-lg" 
                  id="vehicle_brand">          
              </div>

              <div class="form-group">
                <label for="vehicle_engine" class="text-muted form-label-sm">Vehicle engine</label>
                <select id="vehicle_engine" formControlName="vehicle_engine" class="browser-default custom-select form-control form-control-lg" >
                    <option [ngValue]="type.key" *ngFor="let type of vehicle_engines | keyvalue">
                        {{type.value}}
                    </option>
                </select>
            </div>

              <div class="form-group">
                <label for="comments"  class="text-muted form-label-sm">Comments</label>
                <textarea type="textarea" 
                  rows="3"
                  formControlName="comments" 
                  class="form-control form-control-lg" ></textarea>            
              </div>
            
              <div class = "form-group row">
                <div class = "col">
                  <div class="btn-group float-right">
                    <button class="btn btn-success btn-lg" [disabled]="!form.valid">Book Now</button>
                    <button type="button" class="btn btn-success btn-lg dropdown-toggle dropdown-toggle-split" data-toggle="dropdown">
                      <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <div class="dropdown-menu">
                      <a class="dropdown-item" (click)="fillForm()">Fill with test data</a>
                    </div>
                  </div>
                </div>
              </div> 
            </form>

          </div><!--card-body-->
      </div><!--card--> 
    </div><!--col--> 
  </div><!--row--> 
</div><!--container--> 